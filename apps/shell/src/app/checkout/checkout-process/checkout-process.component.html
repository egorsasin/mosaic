<div *mosLet="order$ | async as order" class="mx-auto max-w-7xl px-4 sm:px-6">
  <div class="md:grid md:grid-cols-2 md:gap-6">
    <form [formGroup]="form" autocomplete="off">
      <div class="grid grid-cols-6 gap-6">
        <div class="col-span-6">
          <p class="block mb-2 text-sm font-medium">Зарегистрироваться</p>

          <div class="flex mb-2 col-span-6">
            <div class="flex items-center mr-4">
              <input
                id="push-everything"
                name="push-notifications"
                type="radio"
                class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600"
              />
              <label for="push-everything" class="ml-3 block text-sm">Да</label>
            </div>
            <div class="flex items-center">
              <input
                id="push-email"
                name="push-notifications"
                type="radio"
                class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600"
              />
              <label for="push-email" class="ml-3 block text-sm">Нет</label>
            </div>
          </div>
        </div>

        <div class="col-span-6 sm:col-span-3">
          <mos-input formControlName="firstname">
            Imię
            <span class="text-rose-500 ml-[1px]">*</span>
          </mos-input>
        </div>

        <div class="col-span-6 sm:col-span-3">
          <mos-input formControlName="lastName">
            Nazwisko
            <span class="text-rose-500 ml-[1px]">*</span>
          </mos-input>
        </div>

        <div class="col-span-6 sm:col-span-3">
          <mos-input formControlName="email">
            Email
            <span class="text-rose-500 ml-[1px]">*</span>
          </mos-input>
        </div>

        <div class="sm:col-span-3 col-span-full">
          <mos-input-password formControlName="password">
            Password
            <span class="text-rose-500 ml-[1px]">*</span>
          </mos-input-password>
        </div>

        <div class="col-span-6 sm:col-span-3">
          <mos-input formControlName="phone">
            Phone
            <span class="text-rose-500 ml-[1px]">*</span>
          </mos-input>
        </div>

        <div class="col-span-6 sm:col-span-6">
          <mos-input>
            Ulica i numer domu
            <span class="text-rose-500 ml-[1px]">*</span>
          </mos-input>
        </div>
      </div>

      <div class="py-5">
        <span class="font-semibold">Metody dostawy</span>
        <div class="grid gap-3 py-3">
          <div
            class="py-4 px-5 flex gap-3 bg-white border border-gray-300 shadow-sm rounded-lg text-sm cursor-pointer"
          >
            <div>
              <div class="font-semibold">Paczkomat InPost</div>
              <div class="mt-2 text-gray-500" [innerHtml]=""></div>
            </div>
          </div>
        </div>
      </div>

      <div class="py-5">
        <span class="font-semibold">Metody płatności</span>
        <div class="grid gap-3 py-3">
          @for (item of (paymentMethods$ | async); track item.id ) {
          <div
            class="py-4 px-5 flex gap-3 bg-white border border-gray-300 shadow-sm rounded-lg text-sm cursor-pointer"
            [class.payment-metods--active]="item.code === paymentMethod.value"
            (click)="paymentMethod.setValue(item.code)"
          >
            <input
              *ngIf="false"
              name="payment-method"
              type="radio"
              [formControl]="paymentMethod"
              [value]="item.code"
              class="mt-0.5 text-gray-500 focus:ring-gray-400/50 cursor-pointer"
            />
            <div>
              <div class="font-semibold">{{ item.name }}</div>
              <div
                *ngIf="item.description"
                class="mt-2 text-gray-500"
                [innerHtml]="item.description"
              ></div>
            </div>
          </div>
          }
        </div>
      </div>
    </form>

    <!-- CART -->

    <div class="flex-1 overflow-y-auto px-4 py-6 sm:px-6">
      <div class="flex items-start justify-between">
        <h2 class="text-lg font-medium text-gray-900" id="slide-over-title">
          Podsumowanie zamówienia
        </h2>
      </div>

      <div class="mt-8">
        <div class="flow-root">
          <ul role="list" class="-my-6 divide-y divide-gray-200">
            @for (item of (items$ | async); track item.id ) {
            <li class="flex py-6">
              <div
                class="h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200"
              >
                <img
                  [src]="$any(item.product.featuredAsset)"
                  [alt]="item.product.name"
                  class="h-full w-full object-cover object-center"
                />
              </div>

              <div class="ml-4 flex flex-1 flex-col">
                <div>
                  <div
                    class="flex justify-between text-base font-medium text-gray-900"
                  >
                    <h3>
                      <a href="#">Throwback Hip Bag</a>
                    </h3>
                    <p class="ml-4">$90.00</p>
                  </div>
                  <p class="mt-1 text-sm text-gray-500">250g</p>
                </div>
                <div class="flex flex-1 items-end justify-between text-sm">
                  <p class="text-gray-500">Qty 1</p>

                  <div class="flex">
                    <button
                      type="button"
                      class="font-medium text-indigo-600 hover:text-indigo-500"
                    >
                      Remove
                    </button>
                  </div>
                </div>
              </div>
            </li>
            }
            <!-- More products... -->
          </ul>
        </div>
      </div>

      <div class="border-t border-gray-200 px-4 py-6 sm:px-6">
        <div class="flex justify-between text-base font-medium text-gray-900">
          <p>Subtotal</p>
          <p>$262.00</p>
        </div>
        <p class="mt-0.5 text-sm text-gray-500">
          Shipping and taxes calculated at checkout.
        </p>
        <div class="mt-6">
          <a
            href="#"
            class="flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700"
            >Checkout</a
          >
        </div>
        <div class="mt-6 flex justify-center text-center text-sm text-gray-500">
          <p>
            or
            <button
              type="button"
              class="font-medium text-indigo-600 hover:text-indigo-500"
            >
              Continue Shopping
              <span aria-hidden="true"> &rarr;</span>
            </button>
          </p>
        </div>
      </div>
    </div>

    <!-- CART -->
  </div>

  <button
    (click)="completeOrder(order)"
    class="mt-5 flex items-center justify-center border rounded-md bg-gray-600 hover:bg-gray-600 text-white py-2 px-5 focus:outline-none font-semibold shadow-sm"
  >
    Zamawiam i płacę
  </button>
</div>
